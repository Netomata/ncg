          Netomata Config Generator (NCG) Release Notes

                        Version 0.9.1
                    Released 31 March 2009
                    ======================

Thank you for downloading the Netomata Config Generator (NCG)!

Description
-----------
Netomata Config Generator (NCG) creates complete, ready-to-install
config files for network devices and services from a common
light-weight model of your network.  Because these config files are
generated programmatically (rather than by hand), and generated
from a shared model (rather than being managed separately for each
device or service), they are more likely to be consistent and complete,
which makes your network more reliable, easier to troubleshoot, and
easier to expand in both size and functionality.

For more information about Netomata and the philosophy behind NCG, see

	http://www.netomata.com/blog/brent_chapman/2008/10/31/7

The inputs to NCG are a model describing your network (.neto and
.neto_table files), and templates (.ncg files) for the config files
of the various devices and services that you want to generate
config files for.  

Status
------
This release should definitely be considered experimental in nature.
Commands and file formats are all subject to change, as we work out
what paradigms work best and figure out how to get the most out of these
tools.  We'll try to limit future changes that break backwards compatibility,
but we can't promise that at this stage; right now, we believe that it's
more important to experiment with how best to build and use this tool,
rather than to carve anything in stone.

Documentation
-------------
Program and file format documentation is online at

	http://www.netomata.com/docs

A snapshot of this documentation is in the "doc" subdirectory
of the release.

Community
---------
We're trying to build a community around NCG to share experiences, tips,
techniques, tricks, tools, and so forth.  We have established both a wiki
and a set of mailing lists for the community; please see 

	http://www.netomata.com/community

Please join the community, so that together we can all get the most out of
this!

Future
------
Over time, we expect that a robust set of templates will be developed
to cover a broad range of network devices and services.  Initially,
as they are developed and refined both by Netomata and our user community,
these templates will be made available through the community forums
(wiki and mailing lists) that are described above.  Eventually, as
these templates evolve and stabilize, we'll probably start including
the best of them with future distributions.

We also anticipate developing a suite of tools beyond NCG, which will
all rely on the model you build of your network (the .neto and .neto_table
files) but will perform functions beyond simply generating config files;
for example, we're contemplating tools that will help you do capacity
planning and failure analysis.

License
-------
Netomata Config Generator (NCG) is being released under the terms of the
GNU General Public License, version 3.  See the LICENSE file in the
distribution for full details.

Requirements
------------
Dependencies are explained in the "Dependencies" file.  In a nutshell,
you need Ruby 1.8.6 (it might work under other versions, but we
haven't tested it under other versions), and the "facets" Ruby gem.
We've also found the "ruby-debug" gem to be very useful for debugging,
but it is optional.

Installation
------------
1)  Unpack the distribution .tar file, and cd to the directory it creates.

	$ tar xvf ncg-0.9.1-rNNN.tar
	$ cd ncg-0.9.1-rNNN

1.1) OPTIONAL: run tests to verify that everything appears to work.

	$ ruby setup.rb test

2)  Configure your installation.

	$ ruby setup.rb config

3)  Check the resulting paths in the ".config" file.  If you want to
    change any of them, run "ruby setup.rb --help" to see what the
    options are, and then rerun "ruby setup.rb config" with additional
    arguments to regenerate the ".config" file.

    For instance, to install the 'ncg' script in /usr/local/bin, run

	$ ruby setup.rb config --prefix=/usr/local

    To install the 'ncg' script in /opt/netomata/bin and the libraries
    in /opt/netomata/lib, run

	$ ruby setup.rb config --prefix=/opt/netomata --rbdir=/opt/netomata/lib

    (NOTE: If you do this, and /opt/netomata/lib isn't part of your
    Ruby installation's standard library path, you'll also need to set
    the "NETOMATA_LIB" environment variable to "/opt/netomata/lib" or
    pass a "-L /opt/netomata/lib" argument to every invocation of "ncg",
    so that "ncg" will know where to find the libraries.)

4)  Do a dry run to see what's going to be installed where.  If you want to
    make any changes, go back to step 3.

   	$ ruby setup.rb install --no-harm

5)  When you are satisfied with the config, prepare your files for installation.

	$ ruby setup.rb setup

6)  Install the files (you may need to do this as root, depending on the
    permissions of the destination directories).

   	# ruby setup.rb install

Try It
------
In the sample/switches directory of the distribution, there is a fairly
simple sample configuration that generates config files for a pair of
Cisco router/switches providing active-active redundancy for a single-rack
web hosting environment.

1)  cd to the "sample/switches" directory in the distribution.

2)  Run the following command:
	ncg -v switches.neto

3)  Take a look at these files:

	configs/switch-1.config
	configs/switch-2.config

    Note that they are newly generated, that they are complete ready-to-use
    Cisco config files, and that they match the "baseline" config files at:

	configs/switch-1.baseline
	configs/switch-2.baseline

4)  Start experimenting by reading through the "switches.neto" file, and
    working your way out from there.

A More Complex Sample Scenario
------------------------------
The sample/web_hosting directory contains a more complex set of NCG
files and templates to generate a complete set of switch/router,
Nagios, and MRTG configs for a small single-rack data center for
an Internet-facing web service.  

The scenario and associated network design are more fully explained
in pages in the Netomata wiki:

    http://www.netomata.com/wiki/web_hosting_example
    http://www.netomata.com/wiki/web_hosting_example_network_design

Briefly, the rack contains:

    2 Cisco 3550-48 switch/routers (48 ports of FastE and 2 of GigE),
	configured largely as mirror images of each other to provide 
	active-active redundancy
    2 firewalls (make/model not yet specified) running in a redundant
	configuration
    2 load balancers (make/model not yet specified) running in a
    	redundant configuration
    3 (of a planned total of 24) 1U servers running Linux and Xen
	(with several Xen virtual Linux servers running on each of
	those real servers)

Currently, the "sample/web_hosting" directory contains a complete
Netomata config that generates configs for:

    * the pair of Cisco 3550-48 switch/routers 
    * Nagios status monitoring via SNMP
    * MRTG performance montioring via SNMP

In future releases, we plan to extend this sample so that it is
also generating configs for the firewalls, load balancers, DNS,
Xen, and the various other devices and services involved in the
web hosting environment that we're modelling.

Support
-------
If you have any questions or comments, or to report bugs, please contact us:

	support@netomata.com

	+1 510 355 0123 (main)
	+1 510 355 0134 (fax)

# $Id$
# Copyright (C) 2008, 2009 Netomata, Inc.  All Rights Reserved. 
# Please review accompanying 'LICENSE' file or
# http://www.netomata.com/docs/licenses/ncg for important notices,
# disclaimers, and license terms.
